{"version":3,"file":"static/js/415.28279ef3.chunk.js","mappings":"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","sources":["components/Box.jsx","components/MoviesList/MovieList.styled.js","components/MoviesList/MoviesList.jsx","components/movieDataProcessing.js","pages/Home.jsx","services/API/MovieApiService.js"],"sourcesContent":["import styled from 'styled-components';\nimport {\n  color,\n  space,\n  layout,\n  flexbox,\n  background,\n  border,\n  position,\n} from 'styled-system';\n\nexport const Box = styled('div')(\n  color,\n  space,\n  layout,\n  flexbox,\n  background,\n  border,\n  position\n);","import styled from 'styled-components'\n\nexport const Item = styled.li`\n  margin: ${p => p.theme.space[4]}px;\n  :nth-last-child(-n + 3) {\n      margin-bottom: 0;\n    }\n  > a {\n    text-decoration: none;\n    color: ${p => p.theme.colors.black};\n  }\n`\n\nexport const Image = styled.img`\n  width: ${p => p.theme.sizes.m};\n  transition: transform 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  :hover {\n    transform: scale(1.03);\n    cursor: zoom-in;\n  }\n`\n\nexport const Title = styled.h3`\n  text-transform: uppercase;\n  font-size:  ${p => p.theme.fontSizes.xxs};\n  line-height: ${p => p.theme.lineHeights.heading};\n  \n`\n\nexport const Info = styled.p`\n  font-size: ${p => p.theme.fontSizes.xxs};\n  line-height: ${p => p.theme.lineHeights.heading};\n  font-weight: ${p => p.theme.fontWeights.semiBold};\n  color: ${p => p.theme.colors.secondary};\n`","import { Box } from \"components/Box\";\nimport PropTypes from 'prop-types';\nimport dataProcessing from \"components/movieDataProcessing\";\nimport { Link, useLocation } from \"react-router-dom\";\nimport { Item, Image, Title, Info } from \"./MovieList.styled\";\n\nconst MovieList = ({ movies, genres }) => {\n    const { pathname, search } = useLocation();\n    \n    const moviesInfo = dataProcessing(movies, genres);\n\n    return (\n        <Box as=\"ul\" display=\"flex\" flexWrap=\"wrap\" margin=\"-12px\" justifyContent=\"center\">\n            {moviesInfo.map(({ id, imagePoster, original_title, releaseYear, fullGenresNames }) => (\n                <Item key={id}>\n                    <Link to={pathname.includes('movies') ? `${id}` : `movies/${id}`} state={{ from: pathname, search: search }}>\n                        <Image src={imagePoster} alt={original_title} />\n                        <div>\n                            <Title>{original_title}</Title>\n                            <Info>{fullGenresNames} | {releaseYear} </Info>\n                        </div>\n                    </Link>\n                </Item>\n            ))}\n        </Box>\n    );\n};\n\nMovieList.propTypes = {\n    movies: PropTypes.array.isRequired,\n    genres: PropTypes.array,\n}\n\nexport default MovieList;","import noPoster from '../images/no-poster.jpg';\nconst IMG_URL= `https://image.tmdb.org/t/p/w300`;\n\n \nexport default function dataProcessing(results, genres) {\n    return results.map(({ poster_path, original_title, release_date, genre_ids, id }) => {\n\n\t\tif (original_title === \"\") {\n        \toriginal_title = \"Sorry, no title for the movie.\";\n\t\t} else if (original_title.length > 40) {\n\t\t\toriginal_title =  original_title.slice(0, 38) + \"...\";\n\t\t}\n\n\t\tif (!release_date) {\n\t\t\trelease_date = \"Expected\";\n\t\t}\n\n\t\tconst genresNames = genre_ids.reduce((acc, itemId, index) => {\n\t\t\tif (!genre_ids.length) {\n\t\t\t\treturn acc;\n\t\t\t}\n\n\t\t\tif (index <= 1) {\n                const genreName = genres?.find(({ id }) => id === itemId);\n\n\t\t\t\tif (index <= genre_ids.length - 2) {\n\t\t\t\t\treturn acc + genreName?.name + ', ';\n\t\t\t\t}\n\n\t\t\t\treturn acc + genreName?.name + ' ';\n\t\t\t} \n\t\t\t\n\t\t\tif (index === 2) {\n\t\t\t\treturn acc + \"Others\";\n            } \n            \n\t\t\treturn acc;\n\t\t}, \"\")\n\n\t\tconst fullGenresNames = genres ? genresNames : \"Other\"\n\t\tconst releaseYear = release_date?.split(\"-\").slice(0, 1);\n\t\tconst imagePoster = poster_path ? `${IMG_URL}${poster_path}` : noPoster; \n\n\t\treturn { id, imagePoster, original_title, releaseYear, fullGenresNames }\n\t})\n}","import {fetchGenresList, fetchTrendingMovies} from \"services/API/MovieApiService\";\nimport { Box } from \"components/Box\";\nimport MovieList from \"components/MoviesList\";\nimport { useState, useEffect } from \"react\";\n\nconst Home = () => {\n  const [movies, setMovies] = useState([]);\n  const [genres, setGenres] = useState([]);\n\n  useEffect(() => {\n    fetchTrendingMovies().then(setMovies);\n    fetchGenresList().then(setGenres);\n  }, [])\n\n  return (\n    <Box as=\"main\" display=\"flex\" flexDirection=\"column\" alignItems=\"center\">\n      <h1>Trending today</h1>\n      {movies && <MovieList movies={movies} genres={genres} />}\n    </Box>\n  );\n};\n\nexport default Home;","import axios from \"axios\";\n\nconst BASE_URL = 'https://api.themoviedb.org/3';\nconst OPTIONS = {\n  params: {\n    api_key: '470b53b8228b70c791d3c6418cea7265',\n  }\n}\n\nasync function fetchWithErrorHandling(url, options = {}) {\n    try {\n        const { data } = await axios.get(url, options);\n        return data;\n    } catch (error) {\n        return new Error(`Sorry something went wrong. ${error.message}`);\n    }\n}\n\nexport async function fetchTrendingMovies() {\n    const TRENDING_URL = `${BASE_URL}/trending/movie/day`;\n    const { results } = await fetchWithErrorHandling(TRENDING_URL, OPTIONS); \n    return results;\n}\n\nexport function fetchMovieDetails(movieId) {\n    const MOVIE_URL = `${BASE_URL}/movie/${movieId}`;\n    return fetchWithErrorHandling(MOVIE_URL, OPTIONS);\n}\n\nexport async function fetchSearchingMovie(query) {\n    const SEARCHING_MOVIE_URL = `${BASE_URL}/search/movie`;\n    const optionsSearch = {\n        params: {\n            api_key: '470b53b8228b70c791d3c6418cea7265',\n            query,\n        }\n    };\n    const { results } = await fetchWithErrorHandling(SEARCHING_MOVIE_URL, optionsSearch); \n    return results;\n}\n\nexport async function fetchCast(movieId) {\n    const CAST_URL = `${BASE_URL}/movie/${movieId}/credits`;\n    const { cast } = await fetchWithErrorHandling(CAST_URL, OPTIONS); \n    return cast;\n}\n\nexport async function fetchReviews(movieId) {\n    const REVIEWS_URL = `${BASE_URL}/movie/${movieId}/reviews`;\n    const { results } = await fetchWithErrorHandling(REVIEWS_URL, OPTIONS); \n    return results;\n}\n\nexport async function fetchGenresList() {\n    const GENRES_URL = `${BASE_URL}/genre/movie/list`;\n    const {genres} = await fetchWithErrorHandling(GENRES_URL, OPTIONS); \n    return genres;\n}"],"names":["Box","styled","color","space","layout","flexbox","background","border","position","Item","p","theme","colors","black","Image","sizes","m","Title","fontSizes","xxs","lineHeights","heading","Info","fontWeights","semiBold","secondary","movies","genres","useLocation","pathname","search","moviesInfo","results","map","poster_path","original_title","release_date","genre_ids","id","length","slice","genresNames","reduce","acc","itemId","index","genreName","find","name","fullGenresNames","releaseYear","split","imagePoster","noPoster","dataProcessing","as","display","flexWrap","margin","justifyContent","to","includes","state","from","src","alt","useState","setMovies","setGenres","useEffect","fetchTrendingMovies","then","fetchGenresList","flexDirection","alignItems","BASE_URL","OPTIONS","params","api_key","fetchWithErrorHandling","url","options","axios","data","Error","message","TRENDING_URL","fetchMovieDetails","movieId","fetchSearchingMovie","query","SEARCHING_MOVIE_URL","optionsSearch","fetchCast","CAST_URL","cast","fetchReviews","REVIEWS_URL","GENRES_URL"],"sourceRoot":""}